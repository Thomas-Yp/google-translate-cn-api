#!/usr/bin/env node
const translate = require('../lib');

const argv = process.argv.slice(2);

const enConfig = ['--to=en', '-e'];
const cnConfig = ['--to=cn', '-c'];

const config = enConfig.concat(cnConfig);

let translateTo = 'zh-cn';
enConfig.forEach(c => {
  if (argv.indexOf(c) > -1) translateTo = 'en';
});

const text = argv.filter(t => config.indexOf(t) === -1).join(' ');
if (!text) {
  console.log('请输入需要翻译的文字');
  process.exit();
}
translate(text, { to: translateTo }).then(res => {
  console.log(res.text);
}).catch(console.log);
